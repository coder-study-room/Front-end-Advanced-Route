(window.webpackJsonp=window.webpackJsonp||[]).push([[302],{372:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return l})),n.d(t,"metadata",(function(){return r})),n.d(t,"toc",(function(){return o})),n.d(t,"default",(function(){return i}));var a=n(3),c=n(7),b=(n(0),n(385)),l={title:"96. \u7cbe\u8bfb\u300auseEffect \u5b8c\u5168\u6307\u5357\u300b",id:"096",hide_title:!0},r={unversionedId:"096",id:"096",isDocsHomePage:!1,title:"96. \u7cbe\u8bfb\u300auseEffect \u5b8c\u5168\u6307\u5357\u300b",description:"1. \u5f15\u8a00",source:"@site/weekly/096.\u7cbe\u8bfb\u300auseEffect \u5b8c\u5168\u6307\u5357\u300b.md",slug:"/096",permalink:"/weekly/096",editUrl:"https://github.com/coder-study-room/Front-end-Advanced-Route/edit/master/weekly/096.\u7cbe\u8bfb\u300auseEffect \u5b8c\u5168\u6307\u5357\u300b.md",version:"current",lastUpdatedBy:"wangweidong",lastUpdatedAt:1617896260,formattedLastUpdatedAt:"4/8/2021",sidebar:"weekly",previous:{title:"95. \u7cbe\u8bfb\u300aFunction VS Class \u7ec4\u4ef6\u300b",permalink:"/weekly/095"},next:{title:"97. \u7cbe\u8bfb\u300a\u7f16\u5199\u6709\u5f39\u6027\u7684\u7ec4\u4ef6\u300b",permalink:"/weekly/097"}},o=[{value:"1. \u5f15\u8a00",id:"1-\u5f15\u8a00",children:[]},{value:"2. \u6982\u8ff0",id:"2-\u6982\u8ff0",children:[{value:"\u4ece\u51e0\u4e2a\u7591\u95ee\u5f00\u59cb",id:"\u4ece\u51e0\u4e2a\u7591\u95ee\u5f00\u59cb",children:[]},{value:"\u6bcf\u6b21 Render \u90fd\u6709\u81ea\u5df1\u7684 Props \u4e0e State",id:"\u6bcf\u6b21-render-\u90fd\u6709\u81ea\u5df1\u7684-props-\u4e0e-state",children:[]},{value:"\u6bcf\u6b21 Render \u90fd\u6709\u81ea\u5df1\u7684\u4e8b\u4ef6\u5904\u7406",id:"\u6bcf\u6b21-render-\u90fd\u6709\u81ea\u5df1\u7684\u4e8b\u4ef6\u5904\u7406",children:[]},{value:"\u6bcf\u6b21 Render \u90fd\u6709\u81ea\u5df1\u7684 Effects",id:"\u6bcf\u6b21-render-\u90fd\u6709\u81ea\u5df1\u7684-effects",children:[]},{value:"\u5982\u4f55\u7ed5\u8fc7 Capture Value",id:"\u5982\u4f55\u7ed5\u8fc7-capture-value",children:[]},{value:"\u56de\u6536\u673a\u5236",id:"\u56de\u6536\u673a\u5236",children:[]},{value:"\u7528\u540c\u6b65\u53d6\u4ee3 \u201c\u751f\u547d\u5468\u671f\u201d",id:"\u7528\u540c\u6b65\u53d6\u4ee3-\u751f\u547d\u5468\u671f",children:[]},{value:"\u544a\u8bc9 React \u5982\u4f55\u5bf9\u6bd4 Effects",id:"\u544a\u8bc9-react-\u5982\u4f55\u5bf9\u6bd4-effects",children:[]},{value:"\u4e0d\u8981\u5bf9 Dependencies \u6492\u8c0e",id:"\u4e0d\u8981\u5bf9-dependencies-\u6492\u8c0e",children:[]},{value:"\u8bda\u5b9e\u7684\u4ee3\u4ef7",id:"\u8bda\u5b9e\u7684\u4ee3\u4ef7",children:[]},{value:"\u600e\u4e48\u65e2\u8bda\u5b9e\u53c8\u9ad8\u6548\u5462\uff1f",id:"\u600e\u4e48\u65e2\u8bda\u5b9e\u53c8\u9ad8\u6548\u5462\uff1f",children:[]},{value:"\u5c06\u66f4\u65b0\u4e0e\u52a8\u4f5c\u89e3\u8026",id:"\u5c06\u66f4\u65b0\u4e0e\u52a8\u4f5c\u89e3\u8026",children:[]},{value:"\u5c06 Function \u632a\u5230 Effect \u91cc",id:"\u5c06-function-\u632a\u5230-effect-\u91cc",children:[]},{value:"\u5982\u679c\u975e\u8981\u628a Function \u5199\u5728 Effect \u5916\u9762\u5462\uff1f",id:"\u5982\u679c\u975e\u8981\u628a-function-\u5199\u5728-effect-\u5916\u9762\u5462\uff1f",children:[]},{value:"useCallback \u5e26\u6765\u7684\u597d\u5904",id:"usecallback-\u5e26\u6765\u7684\u597d\u5904",children:[]},{value:"\u66f4\u66f4\u66f4\u5185\u805a",id:"\u66f4\u66f4\u66f4\u5185\u805a",children:[]}]},{value:"3. \u7cbe\u8bfb",id:"3-\u7cbe\u8bfb",children:[{value:"useEffect \u8fd8\u6709\u4ec0\u4e48\u4f18\u52bf",id:"useeffect-\u8fd8\u6709\u4ec0\u4e48\u4f18\u52bf",children:[]}]},{value:"4. \u603b\u7ed3",id:"4-\u603b\u7ed3",children:[]}],p={toc:o};function i(e){var t=e.components,n=Object(c.a)(e,["components"]);return Object(b.b)("wrapper",Object(a.a)({},p,n,{components:t,mdxType:"MDXLayout"}),Object(b.b)("h2",{id:"1-\u5f15\u8a00"},"1. \u5f15\u8a00"),Object(b.b)("p",null,"\u5de5\u5177\u578b\u6587\u7ae0\u8981\u8df3\u8bfb\uff0c\u800c\u6587\u5b66\u7ecf\u5178\u5c31\u8981\u53cd\u590d\u7814\u8bfb\u3002\u5982\u679c\u8bf4 React ",Object(b.b)("inlineCode",{parentName:"p"},"0.14")," \u7248\u672c\u5e26\u6765\u7684\u5404\u79cd\u751f\u547d\u5468\u671f\u53ef\u4ee5\u7c7b\u6bd4\u5230\u5de5\u5177\u578b\u6587\u7ae0\uff0c\u90a3\u4e48 ",Object(b.b)("inlineCode",{parentName:"p"},"16.7")," \u5e26\u6765\u7684 Hooks \u5c31\u8981\u50cf\u6587\u5b66\u7ecf\u5178\u4e00\u6837\u53cd\u590d\u7814\u8bfb\u3002"),Object(b.b)("p",null,"Hooks API \u65e0\u8bba\u4ece\u7b80\u6d01\u7a0b\u5ea6\uff0c\u8fd8\u662f\u4f7f\u7528\u6df1\u5ea6\u89d2\u5ea6\u6765\u770b\uff0c\u90fd\u5927\u5927\u4f18\u4e8e\u4e4b\u524d\u751f\u547d\u5468\u671f\u7684 API\uff0c\u6240\u4ee5\u5fc5\u987b\u53cd\u590d\u7406\u89e3\uff0c\u53cd\u590d\u5b9e\u8df5\uff0c\u5426\u5219\u53ea\u80fd\u505c\u7559\u5728\u8868\u9762\u539f\u5730\u8e0f\u6b65\u3002"),Object(b.b)("p",null,"\u76f8\u6bd4 ",Object(b.b)("inlineCode",{parentName:"p"},"useState")," \u6216\u8005\u81ea\u5b9a\u4e49 Hooks \u800c\u8a00\uff0c\u6700\u6709\u7406\u89e3\u96be\u5ea6\u7684\u662f ",Object(b.b)("inlineCode",{parentName:"p"},"useEffect")," \u8fd9\u4e2a\u5de5\u5177\uff0c\u5e0c\u671b\u501f\u7740 ",Object(b.b)("a",{parentName:"p",href:"https://overreacted.io/a-complete-guide-to-useeffect/"},"a-complete-guide-to-useeffect")," \u4e00\u6587\uff0c\u6df1\u5165\u7406\u89e3 ",Object(b.b)("inlineCode",{parentName:"p"},"useEffect"),"\u3002"),Object(b.b)("blockquote",null,Object(b.b)("p",{parentName:"blockquote"},"\u539f\u6587\u975e\u5e38\u957f\uff0c\u6240\u4ee5\u6982\u8ff0\u662f\u7b14\u8005\u7cbe\u7b80\u540e\u7684\u3002\u4f5c\u8005\u662f ",Object(b.b)("a",{parentName:"p",href:"https://mobile.twitter.com/dan_abramov"},"Dan Abramov"),"\uff0cReact \u6838\u5fc3\u5f00\u53d1\u8005\u3002")),Object(b.b)("h2",{id:"2-\u6982\u8ff0"},"2. \u6982\u8ff0"),Object(b.b)("p",null,Object(b.b)("strong",{parentName:"p"},"unLearning"),"\uff0c\u4e5f\u5c31\u662f\u5b66\u4f1a\u5fd8\u8bb0\u3002",Object(b.b)("strong",{parentName:"p"},"\u4f60\u4e4b\u524d\u7684\u5b66\u4e60\u7ecf\u9a8c\u4f1a\u963b\u788d\u4f60\u8fdb\u4e00\u6b65\u5b66\u4e60\u3002")),Object(b.b)("p",null,"\u60f3\u8981\u7406\u89e3\u597d ",Object(b.b)("inlineCode",{parentName:"p"},"useEffect")," \u5c31\u5fc5\u987b\u5148\u6df1\u5165\u7406\u89e3 Function Component \u7684\u6e32\u67d3\u673a\u5236\uff0cFunction Component \u4e0e Class Component \u529f\u80fd\u4e0a\u7684\u4e0d\u540c\u5728\u4e0a\u4e00\u671f\u7cbe\u8bfb ",Object(b.b)("a",{parentName:"p",href:"https://github.com/dt-fe/weekly/blob/master/95.%E7%B2%BE%E8%AF%BB%E3%80%8AFunction%20VS%20Class%20%E7%BB%84%E4%BB%B6%E3%80%8B.md"},"\u7cbe\u8bfb\u300aFunction VS Class \u7ec4\u4ef6\u300b")," \u5df2\u7ecf\u4ecb\u7ecd\uff0c\u800c\u4ed6\u4eec\u8fd8\u5b58\u5728\u601d\u7ef4\u4e0a\u7684\u4e0d\u540c\uff1a"),Object(b.b)("p",null,Object(b.b)("strong",{parentName:"p"},"Function Component \u662f\u66f4\u5f7b\u5e95\u7684\u72b6\u6001\u9a71\u52a8\u62bd\u8c61\uff0c\u751a\u81f3\u6ca1\u6709 Class Component \u751f\u547d\u5468\u671f\u7684\u6982\u5ff5\uff0c\u53ea\u6709\u4e00\u4e2a\u72b6\u6001\uff0c\u800c React \u8d1f\u8d23\u540c\u6b65\u5230 DOM\u3002")," \u8fd9\u662f\u7406\u89e3 Function Component \u4ee5\u53ca ",Object(b.b)("inlineCode",{parentName:"p"},"useEffect")," \u7684\u5173\u952e\uff0c\u540e\u9762\u8fd8\u4f1a\u8be6\u7ec6\u4ecb\u7ecd\u3002"),Object(b.b)("blockquote",null,Object(b.b)("p",{parentName:"blockquote"},"\u7531\u4e8e\u539f\u6587\u975e\u5e38\u975e\u5e38\u7684\u957f\uff0c\u6240\u4ee5\u7b14\u8005\u7cbe\u7b80\u4e0b\u5185\u5bb9\u518d\u91cd\u65b0\u6574\u7406\u4e00\u904d\u3002\u539f\u6587\u975e\u5e38\u957f\u7684\u53e6\u4e00\u4e2a\u539f\u56e0\u662f\u91c7\u7528\u4e86\u542f\u53d1\u5f0f\u601d\u8003\u4e0e\u9010\u5c42\u9012\u8fdb\u7684\u65b9\u5f0f\u5199\u4f5c\uff0c\u7b14\u8005\u6700\u5927\u7a0b\u5ea6\u4fdd\u7559\u8fd9\u4e2a\u601d\u7ef4\u6846\u67b6\u3002")),Object(b.b)("h3",{id:"\u4ece\u51e0\u4e2a\u7591\u95ee\u5f00\u59cb"},"\u4ece\u51e0\u4e2a\u7591\u95ee\u5f00\u59cb"),Object(b.b)("p",null,"\u5047\u8bbe\u8bfb\u8005\u6709\u6bd4\u8f83\u4e30\u5bcc\u7684\u524d\u7aef & React \u5f00\u53d1\u7ecf\u9a8c\uff0c\u5e76\u4e14\u5199\u8fc7\u4e00\u4e9b ",Object(b.b)("a",{parentName:"p",href:"https://reactjs.org/docs/hooks-intro.html"},"Hooks"),"\u3002\u90a3\u4e48\u4f60\u4e5f\u8bb8\u89c9\u5f97 Function Component \u5f88\u597d\u7528\uff0c\u4f46\u7f8e\u4e2d\u4e0d\u8db3\u7684\u662f\uff0c\u603b\u6709\u4e00\u4e9b\u7591\u60d1\u8426\u7ed5\u5728\u5fc3\u4e2d\uff0c\u6bd4\u5982\uff1a"),Object(b.b)("ul",null,Object(b.b)("li",{parentName:"ul"},"\ud83e\udd14 \u5982\u4f55\u7528 ",Object(b.b)("inlineCode",{parentName:"li"},"useEffect")," \u4ee3\u66ff ",Object(b.b)("inlineCode",{parentName:"li"},"componentDidMount"),"?"),Object(b.b)("li",{parentName:"ul"},"\ud83e\udd14 \u5982\u4f55\u7528 ",Object(b.b)("inlineCode",{parentName:"li"},"useEffect")," \u53d6\u6570\uff1f\u53c2\u6570 ",Object(b.b)("inlineCode",{parentName:"li"},"[]")," \u4ee3\u8868\u4ec0\u4e48\uff1f"),Object(b.b)("li",{parentName:"ul"},"\ud83e\udd14",Object(b.b)("inlineCode",{parentName:"li"},"useEffect")," \u7684\u4f9d\u8d56\u53ef\u4ee5\u662f\u51fd\u6570\u5417\uff1f\u662f\u54ea\u4e9b\u51fd\u6570\uff1f"),Object(b.b)("li",{parentName:"ul"},"\ud83e\udd14 \u4e3a\u4f55\u6709\u65f6\u5019\u53d6\u6570\u4f1a\u89e6\u53d1\u6b7b\u5faa\u73af\uff1f"),Object(b.b)("li",{parentName:"ul"},"\ud83e\udd14 \u4e3a\u4ec0\u4e48\u6709\u65f6\u5019\u5728 ",Object(b.b)("inlineCode",{parentName:"li"},"useEffect")," \u4e2d\u62ff\u5230\u7684 state \u6216 props \u662f\u65e7\u7684\uff1f")),Object(b.b)("p",null,"\u7b2c\u4e00\u4e2a\u95ee\u9898\u53ef\u80fd\u5df2\u7ecf\u81ea\u95ee\u81ea\u7b54\u8fc7\u65e0\u6570\u6b21\u4e86\uff0c\u4f46\u4e0b\u6b21\u5199\u4ee3\u7801\u7684\u65f6\u5019\u8fd8\u662f\u4f1a\u5fd8\u3002\u7b14\u8005\u4e5f\u4e00\u6837\uff0c\u800c\u4e14\u5728\u4e09\u671f\u4e0d\u540c\u7684\u7cbe\u8bfb\u4e2d\u90fd\u5206\u522b\u4ecb\u7ecd\u8fc7\u8fd9\u4e2a\u95ee\u9898\uff1a"),Object(b.b)("ul",null,Object(b.b)("li",{parentName:"ul"},Object(b.b)("a",{parentName:"li",href:"https://github.com/dt-fe/weekly/blob/master/79.%E7%B2%BE%E8%AF%BB%E3%80%8AReact%20Hooks%E3%80%8B.md"},"\u7cbe\u8bfb\u300aReact Hooks\u300b")),Object(b.b)("li",{parentName:"ul"},Object(b.b)("a",{parentName:"li",href:"https://github.com/dt-fe/weekly/blob/master/80.%E7%B2%BE%E8%AF%BB%E3%80%8A%E6%80%8E%E4%B9%88%E7%94%A8%20React%20Hooks%20%E9%80%A0%E8%BD%AE%E5%AD%90%E3%80%8B.md"},"\u7cbe\u8bfb\u300a\u600e\u4e48\u7528 React Hooks \u9020\u8f6e\u5b50\u300b")),Object(b.b)("li",{parentName:"ul"},Object(b.b)("a",{parentName:"li",href:"https://github.com/dt-fe/weekly/blob/master/95.%E7%B2%BE%E8%AF%BB%E3%80%8AFunction%20VS%20Class%20%E7%BB%84%E4%BB%B6%E3%80%8B.md"},"\u7cbe\u8bfb\u300aFunction VS Class \u7ec4\u4ef6\u300b"))),Object(b.b)("p",null,"\u4f46\u7b2c\u4e8c\u5929\u5c31\u5fd8\u8bb0\u4e86\uff0c\u56e0\u4e3a ",Object(b.b)("strong",{parentName:"p"},"\u7528 Hooks \u5b9e\u73b0\u751f\u547d\u5468\u671f\u786e\u5b9e\u522b\u626d\u3002")," \u8bb2\u771f\uff0c",Object(b.b)("strong",{parentName:"p"},"\u5982\u679c\u60f3\u5f7b\u5e95\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\uff0c\u5c31\u8bf7\u4f60\u5fd8\u6389 React\u3001\u5fd8\u6389\u751f\u547d\u5468\u671f\uff0c\u91cd\u65b0\u7406\u89e3\u4e00\u4e0b Function Component \u7684\u601d\u7ef4\u65b9\u5f0f\u5427\uff01")),Object(b.b)("blockquote",null,Object(b.b)("p",{parentName:"blockquote"},"\u4e0a\u9762 5 \u4e2a\u95ee\u9898\u7684\u89e3\u7b54\u5c31\u4e0d\u8d58\u8ff0\u4e86\uff0c\u8bfb\u8005\u5982\u679c\u6709\u7591\u60d1\u53ef\u4ee5\u53bb ",Object(b.b)("a",{parentName:"p",href:"https://overreacted.io/a-complete-guide-to-useeffect/#tldr"},"\u539f\u6587 TLDR")," \u67e5\u770b\u3002")),Object(b.b)("p",null,"\u8981\u8bf4\u6e05\u695a ",Object(b.b)("inlineCode",{parentName:"p"},"useEffect"),"\uff0c\u6700\u597d\u5148\u4ece Render \u6982\u5ff5\u5f00\u59cb\u7406\u89e3\u3002"),Object(b.b)("h3",{id:"\u6bcf\u6b21-render-\u90fd\u6709\u81ea\u5df1\u7684-props-\u4e0e-state"},"\u6bcf\u6b21 Render \u90fd\u6709\u81ea\u5df1\u7684 Props \u4e0e State"),Object(b.b)("p",null,"\u53ef\u4ee5\u8ba4\u4e3a\u6bcf\u6b21 Render \u7684\u5185\u5bb9\u90fd\u4f1a\u5f62\u6210\u4e00\u4e2a\u5feb\u7167\u5e76\u4fdd\u7559\u4e0b\u6765\uff0c\u56e0\u6b64\u5f53\u72b6\u6001\u53d8\u66f4\u800c Rerender \u65f6\uff0c\u5c31\u5f62\u6210\u4e86 N \u4e2a Render \u72b6\u6001\uff0c\u800c\u6bcf\u4e2a Render \u72b6\u6001\u90fd\u62e5\u6709\u81ea\u5df1\u56fa\u5b9a\u4e0d\u53d8\u7684 Props \u4e0e State\u3002"),Object(b.b)("p",null,"\u770b\u4e0b\u9762\u7684 ",Object(b.b)("inlineCode",{parentName:"p"},"count"),"\uff1a"),Object(b.b)("pre",null,Object(b.b)("code",{parentName:"pre",className:"language-jsx"},"function Counter() {\n  const [count, setCount] = useState(0);\n\n  return (\n    <div>\n      <p>You clicked {count} times</p>\n      <button onClick={() => setCount(count + 1)}>Click me</button>\n    </div>\n  );\n}\n")),Object(b.b)("p",null,"\u5728\u6bcf\u6b21\u70b9\u51fb\u65f6\uff0c",Object(b.b)("inlineCode",{parentName:"p"},"count")," \u53ea\u662f\u4e00\u4e2a\u4e0d\u4f1a\u53d8\u7684\u5e38\u91cf\uff0c\u800c\u4e14\u4e5f\u4e0d\u5b58\u5728\u5229\u7528 ",Object(b.b)("inlineCode",{parentName:"p"},"Proxy")," \u7684\u53cc\u5411\u7ed1\u5b9a\uff0c\u53ea\u662f\u4e00\u4e2a\u5e38\u91cf\u5b58\u5728\u4e8e\u6bcf\u6b21 Render \u4e2d\u3002"),Object(b.b)("p",null,"\u521d\u59cb\u72b6\u6001\u4e0b ",Object(b.b)("inlineCode",{parentName:"p"},"count")," \u503c\u4e3a ",Object(b.b)("inlineCode",{parentName:"p"},"0"),"\uff0c\u800c\u968f\u7740\u6309\u94ae\u88ab\u70b9\u51fb\uff0c\u5728\u6bcf\u6b21 Render \u8fc7\u7a0b\u4e2d\uff0c",Object(b.b)("inlineCode",{parentName:"p"},"count")," \u7684\u503c\u90fd\u4f1a\u88ab\u56fa\u5316\u4e3a ",Object(b.b)("inlineCode",{parentName:"p"},"1"),"\u3001",Object(b.b)("inlineCode",{parentName:"p"},"2"),"\u3001",Object(b.b)("inlineCode",{parentName:"p"},"3"),"\uff1a"),Object(b.b)("pre",null,Object(b.b)("code",{parentName:"pre",className:"language-jsx"},"// During first render\nfunction Counter() {\n  const count = 0; // Returned by useState()\n  // ...\n  <p>You clicked {count} times</p>;\n  // ...\n}\n\n// After a click, our function is called again\nfunction Counter() {\n  const count = 1; // Returned by useState()\n  // ...\n  <p>You clicked {count} times</p>;\n  // ...\n}\n\n// After another click, our function is called again\nfunction Counter() {\n  const count = 2; // Returned by useState()\n  // ...\n  <p>You clicked {count} times</p>;\n  // ...\n}\n")),Object(b.b)("p",null,"\u5176\u5b9e\u4e0d\u4ec5\u662f\u5bf9\u8c61\uff0c\u51fd\u6570\u5728\u6bcf\u6b21\u6e32\u67d3\u65f6\u4e5f\u662f\u72ec\u7acb\u7684\u3002\u8fd9\u5c31\u662f ",Object(b.b)("strong",{parentName:"p"},"Capture Value")," \u7279\u6027\uff0c\u540e\u9762\u9047\u5230\u8fd9\u79cd\u60c5\u51b5\u5c31\u4e0d\u4f1a\u4e00\u4e00\u5c55\u5f00\uff0c\u53ea\u63cf\u8ff0\u4e3a \u201c\u6b64\u5904\u62e5\u6709 Capture Value \u7279\u6027\u201d\u3002"),Object(b.b)("h3",{id:"\u6bcf\u6b21-render-\u90fd\u6709\u81ea\u5df1\u7684\u4e8b\u4ef6\u5904\u7406"},"\u6bcf\u6b21 Render \u90fd\u6709\u81ea\u5df1\u7684\u4e8b\u4ef6\u5904\u7406"),Object(b.b)("p",null,"\u89e3\u91ca\u4e86\u4e3a\u4ec0\u4e48\u4e0b\u9762\u7684\u4ee3\u7801\u4f1a\u8f93\u51fa ",Object(b.b)("inlineCode",{parentName:"p"},"5")," \u800c\u4e0d\u662f ",Object(b.b)("inlineCode",{parentName:"p"},"3"),":"),Object(b.b)("pre",null,Object(b.b)("code",{parentName:"pre",className:"language-jsx"},'const App = () => {\n  const [temp, setTemp] = React.useState(5);\n\n  const log = () => {\n    setTimeout(() => {\n      console.log("3 \u79d2\u524d temp = 5\uff0c\u73b0\u5728 temp =", temp);\n    }, 3000);\n  };\n\n  return (\n    <div\n      onClick={() => {\n        log();\n        setTemp(3);\n        // 3 \u79d2\u524d temp = 5\uff0c\u73b0\u5728 temp = 5\n      }}\n    >\n      xyz\n    </div>\n  );\n};\n')),Object(b.b)("p",null,"\u5728 ",Object(b.b)("inlineCode",{parentName:"p"},"log")," \u51fd\u6570\u6267\u884c\u7684\u90a3\u4e2a Render \u8fc7\u7a0b\u91cc\uff0c",Object(b.b)("inlineCode",{parentName:"p"},"temp")," \u7684\u503c\u53ef\u4ee5\u770b\u4f5c\u5e38\u91cf ",Object(b.b)("inlineCode",{parentName:"p"},"5"),"\uff0c",Object(b.b)("strong",{parentName:"p"},"\u6267\u884c ",Object(b.b)("inlineCode",{parentName:"strong"},"setTemp(3)")," \u65f6\u4f1a\u4ea4\u7531\u4e00\u4e2a\u5168\u65b0\u7684 Render \u6e32\u67d3"),"\uff0c\u6240\u4ee5\u4e0d\u4f1a\u6267\u884c ",Object(b.b)("inlineCode",{parentName:"p"},"log")," \u51fd\u6570\u3002",Object(b.b)("strong",{parentName:"p"},"\u800c 3 \u79d2\u540e\u6267\u884c\u7684\u5185\u5bb9\u662f\u7531 ",Object(b.b)("inlineCode",{parentName:"strong"},"temp")," \u4e3a ",Object(b.b)("inlineCode",{parentName:"strong"},"5")," \u7684\u90a3\u4e2a Render \u53d1\u51fa\u7684"),"\uff0c\u6240\u4ee5\u7ed3\u679c\u81ea\u7136\u4e3a ",Object(b.b)("inlineCode",{parentName:"p"},"5"),"\u3002"),Object(b.b)("p",null,"\u539f\u56e0\u5c31\u662f ",Object(b.b)("inlineCode",{parentName:"p"},"temp"),"\u3001",Object(b.b)("inlineCode",{parentName:"p"},"log")," \u90fd\u62e5\u6709 Capture Value \u7279\u6027\u3002"),Object(b.b)("h3",{id:"\u6bcf\u6b21-render-\u90fd\u6709\u81ea\u5df1\u7684-effects"},"\u6bcf\u6b21 Render \u90fd\u6709\u81ea\u5df1\u7684 Effects"),Object(b.b)("p",null,Object(b.b)("inlineCode",{parentName:"p"},"useEffect")," \u4e5f\u4e00\u6837\u5177\u6709 Capture Value \u7684\u7279\u6027\u3002"),Object(b.b)("p",null,Object(b.b)("inlineCode",{parentName:"p"},"useEffect")," \u5728\u5b9e\u9645 DOM \u6e32\u67d3\u5b8c\u6bd5\u540e\u6267\u884c\uff0c\u90a3 ",Object(b.b)("inlineCode",{parentName:"p"},"useEffect")," \u62ff\u5230\u7684\u503c\u4e5f\u9075\u5faa Capture Value \u7684\u7279\u6027\uff1a"),Object(b.b)("pre",null,Object(b.b)("code",{parentName:"pre",className:"language-jsx"},"function Counter() {\n  const [count, setCount] = useState(0);\n\n  useEffect(() => {\n    document.title = `You clicked ${count} times`;\n  });\n\n  return (\n    <div>\n      <p>You clicked {count} times</p>\n      <button onClick={() => setCount(count + 1)}>Click me</button>\n    </div>\n  );\n}\n")),Object(b.b)("p",null,"\u4e0a\u9762\u7684 ",Object(b.b)("inlineCode",{parentName:"p"},"useEffect")," \u5728\u6bcf\u6b21 Render \u8fc7\u7a0b\u4e2d\uff0c\u62ff\u5230\u7684 ",Object(b.b)("inlineCode",{parentName:"p"},"count")," \u90fd\u662f\u56fa\u5316\u4e0b\u6765\u7684\u5e38\u91cf\u3002"),Object(b.b)("h3",{id:"\u5982\u4f55\u7ed5\u8fc7-capture-value"},"\u5982\u4f55\u7ed5\u8fc7 Capture Value"),Object(b.b)("p",null,"\u5229\u7528 ",Object(b.b)("inlineCode",{parentName:"p"},"useRef")," \u5c31\u53ef\u4ee5\u7ed5\u8fc7 Capture Value \u7684\u7279\u6027\u3002",Object(b.b)("strong",{parentName:"p"},"\u53ef\u4ee5\u8ba4\u4e3a ",Object(b.b)("inlineCode",{parentName:"strong"},"ref")," \u5728\u6240\u6709 Render \u8fc7\u7a0b\u4e2d\u4fdd\u6301\u7740\u552f\u4e00\u5f15\u7528\uff0c\u56e0\u6b64\u6240\u6709\u5bf9 ",Object(b.b)("inlineCode",{parentName:"strong"},"ref")," \u7684\u8d4b\u503c\u6216\u53d6\u503c\uff0c\u62ff\u5230\u7684\u90fd\u53ea\u6709\u4e00\u4e2a\u6700\u7ec8\u72b6\u6001"),"\uff0c\u800c\u4e0d\u4f1a\u5728\u6bcf\u4e2a Render \u95f4\u5b58\u5728\u9694\u79bb\u3002"),Object(b.b)("pre",null,Object(b.b)("code",{parentName:"pre",className:"language-jsx"},"function Example() {\n  const [count, setCount] = useState(0);\n  const latestCount = useRef(count);\n\n  useEffect(() => {\n    // Set the mutable latest value\n    latestCount.current = count;\n    setTimeout(() => {\n      // Read the mutable latest value\n      console.log(`You clicked ${latestCount.current} times`);\n    }, 3000);\n  });\n  // ...\n}\n")),Object(b.b)("p",null,"\u4e5f\u53ef\u4ee5\u7b80\u6d01\u7684\u8ba4\u4e3a\uff0c",Object(b.b)("inlineCode",{parentName:"p"},"ref")," \u662f Mutable \u7684\uff0c\u800c ",Object(b.b)("inlineCode",{parentName:"p"},"state")," \u662f Immutable \u7684\u3002"),Object(b.b)("h3",{id:"\u56de\u6536\u673a\u5236"},"\u56de\u6536\u673a\u5236"),Object(b.b)("p",null,"\u5728\u7ec4\u4ef6\u88ab\u9500\u6bc1\u65f6\uff0c\u901a\u8fc7 ",Object(b.b)("inlineCode",{parentName:"p"},"useEffect")," \u6ce8\u518c\u7684\u76d1\u542c\u9700\u8981\u88ab\u9500\u6bc1\uff0c\u8fd9\u4e00\u70b9\u53ef\u4ee5\u901a\u8fc7 ",Object(b.b)("inlineCode",{parentName:"p"},"useEffect")," \u7684\u8fd4\u56de\u503c\u505a\u5230\uff1a"),Object(b.b)("pre",null,Object(b.b)("code",{parentName:"pre",className:"language-jsx"},"useEffect(() => {\n  ChatAPI.subscribeToFriendStatus(props.id, handleStatusChange);\n  return () => {\n    ChatAPI.unsubscribeFromFriendStatus(props.id, handleStatusChange);\n  };\n});\n")),Object(b.b)("p",null,"\u5728\u7ec4\u4ef6\u88ab\u9500\u6bc1\u65f6\uff0c\u4f1a\u6267\u884c\u8fd4\u56de\u503c\u51fd\u6570\u5185\u56de\u8c03\u51fd\u6570\u3002\u540c\u6837\uff0c\u7531\u4e8e Capture Value \u7279\u6027\uff0c\u6bcf\u6b21 \u201c\u6ce8\u518c\u201d \u201c\u56de\u6536\u201d \u62ff\u5230\u7684\u90fd\u662f\u6210\u5bf9\u7684\u56fa\u5b9a\u503c\u3002"),Object(b.b)("h3",{id:"\u7528\u540c\u6b65\u53d6\u4ee3-\u751f\u547d\u5468\u671f"},"\u7528\u540c\u6b65\u53d6\u4ee3 \u201c\u751f\u547d\u5468\u671f\u201d"),Object(b.b)("p",null,"Function Component \u4e0d\u5b58\u5728\u751f\u547d\u5468\u671f\uff0c\u6240\u4ee5\u4e0d\u8981\u628a Class Component \u7684\u751f\u547d\u5468\u671f\u6982\u5ff5\u642c\u8fc7\u6765\u8bd5\u56fe\u5bf9\u53f7\u5165\u5ea7\u3002Function Component \u4ec5\u63cf\u8ff0 UI \u72b6\u6001\uff0cReact \u4f1a\u5c06\u5176\u540c\u6b65\u5230 DOM\uff0c\u4ec5\u6b64\u800c\u5df2\u3002"),Object(b.b)("p",null,"\u65e2\u7136\u662f\u72b6\u6001\u540c\u6b65\uff0c\u90a3\u4e48\u6bcf\u6b21\u6e32\u67d3\u7684\u72b6\u6001\u90fd\u4f1a\u56fa\u5316\u4e0b\u6765\uff0c\u8fd9\u5305\u62ec ",Object(b.b)("inlineCode",{parentName:"p"},"state")," ",Object(b.b)("inlineCode",{parentName:"p"},"props")," ",Object(b.b)("inlineCode",{parentName:"p"},"useEffect")," \u4ee5\u53ca\u5199\u5728 Function Component \u4e2d\u7684\u6240\u6709\u51fd\u6570\u3002"),Object(b.b)("p",null,"\u7136\u800c\u820d\u5f03\u4e86\u751f\u547d\u5468\u671f\u7684\u540c\u6b65\u4f1a\u5e26\u6765\u4e00\u4e9b\u6027\u80fd\u95ee\u9898\uff0c\u6240\u4ee5\u6211\u4eec\u9700\u8981\u544a\u8bc9 React \u5982\u4f55\u6bd4\u5bf9 Effect\u3002"),Object(b.b)("h3",{id:"\u544a\u8bc9-react-\u5982\u4f55\u5bf9\u6bd4-effects"},"\u544a\u8bc9 React \u5982\u4f55\u5bf9\u6bd4 Effects"),Object(b.b)("p",null,"\u867d\u7136 React \u5728 DOM \u6e32\u67d3\u65f6\u4f1a diff \u5185\u5bb9\uff0c\u53ea\u5bf9\u6539\u53d8\u90e8\u5206\u8fdb\u884c\u4fee\u6539\uff0c\u800c\u4e0d\u662f\u6574\u4f53\u66ff\u6362\uff0c\u4f46\u5374\u505a\u4e0d\u5230\u5bf9 Effect \u7684\u589e\u91cf\u4fee\u6539\u8bc6\u522b\u3002\u56e0\u6b64\u9700\u8981\u5f00\u53d1\u8005\u901a\u8fc7 ",Object(b.b)("inlineCode",{parentName:"p"},"useEffect")," \u7684\u7b2c\u4e8c\u4e2a\u53c2\u6570\u544a\u8bc9 React \u7528\u5230\u4e86\u54ea\u4e9b\u5916\u90e8\u53d8\u91cf\uff1a"),Object(b.b)("pre",null,Object(b.b)("code",{parentName:"pre",className:"language-jsx"},'useEffect(() => {\n  document.title = "Hello, " + name;\n}, [name]); // Our deps\n')),Object(b.b)("p",null,"\u76f4\u5230 ",Object(b.b)("inlineCode",{parentName:"p"},"name")," \u6539\u53d8\u65f6\u7684 Rerender\uff0c",Object(b.b)("inlineCode",{parentName:"p"},"useEffect")," \u624d\u4f1a\u518d\u6b21\u6267\u884c\u3002"),Object(b.b)("p",null,"\u7136\u800c\u624b\u52a8\u7ef4\u62a4\u6bd4\u8f83\u9ebb\u70e6\u800c\u4e14\u53ef\u80fd\u9057\u6f0f\uff0c\u56e0\u6b64\u53ef\u4ee5\u5229\u7528 ",Object(b.b)("a",{parentName:"p",href:"https://github.com/facebook/react/issues/14920"},"eslint")," \u63d2\u4ef6\u81ea\u52a8\u63d0\u793a + FIX\uff1a"),Object(b.b)("p",null,Object(b.b)("img",{parentName:"p",src:"https://cdn.jsdelivr.net/gh/ViktorWong/imgbed/img/20210408231855.gif",alt:null})),Object(b.b)("h3",{id:"\u4e0d\u8981\u5bf9-dependencies-\u6492\u8c0e"},"\u4e0d\u8981\u5bf9 Dependencies \u6492\u8c0e"),Object(b.b)("p",null,"\u5982\u679c\u4f60\u660e\u660e\u4f7f\u7528\u4e86\u67d0\u4e2a\u53d8\u91cf\uff0c\u5374\u6ca1\u6709\u7533\u660e\u5728\u4f9d\u8d56\u4e2d\uff0c\u4f60\u7b49\u4e8e\u5411 React \u6492\u4e86\u8c0e\uff0c\u540e\u679c\u5c31\u662f\uff0c\u5f53\u4f9d\u8d56\u7684\u53d8\u91cf\u6539\u53d8\u65f6\uff0c",Object(b.b)("inlineCode",{parentName:"p"},"useEffect")," \u4e5f\u4e0d\u4f1a\u518d\u6b21\u6267\u884c\uff1a"),Object(b.b)("pre",null,Object(b.b)("code",{parentName:"pre",className:"language-jsx"},'useEffect(() => {\n  document.title = "Hello, " + name;\n}, []); // Wrong: name is missing in dep\n')),Object(b.b)("p",null,"\u8fd9\u770b\u4e0a\u53bb\u5f88\u8822\uff0c\u4f46\u770b\u770b\u53e6\u4e00\u4e2a\u4f8b\u5b50\u5462\uff1f"),Object(b.b)("pre",null,Object(b.b)("code",{parentName:"pre",className:"language-jsx"},"function Counter() {\n  const [count, setCount] = useState(0);\n\n  useEffect(() => {\n    const id = setInterval(() => {\n      setCount(count + 1);\n    }, 1000);\n    return () => clearInterval(id);\n  }, []);\n\n  return <h1>{count}</h1>;\n}\n")),Object(b.b)("p",null,Object(b.b)("inlineCode",{parentName:"p"},"setInterval")," \u6211\u4eec\u53ea\u60f3\u6267\u884c\u4e00\u6b21\uff0c\u6240\u4ee5\u6211\u4eec\u81ea\u4ee5\u4e3a\u806a\u660e\u7684\u5411 React \u6492\u4e86\u8c0e\uff0c\u5c06\u4f9d\u8d56\u5199\u6210 ",Object(b.b)("inlineCode",{parentName:"p"},"[]"),"\u3002"),Object(b.b)("p",null,"\u201c\u7ec4\u4ef6\u521d\u59cb\u5316\u6267\u884c\u4e00\u6b21 ",Object(b.b)("inlineCode",{parentName:"p"},"setInterval"),"\uff0c\u9500\u6bc1\u65f6\u6267\u884c\u4e00\u6b21 ",Object(b.b)("inlineCode",{parentName:"p"},"clearInterval"),"\uff0c\u8fd9\u6837\u7684\u4ee3\u7801\u7b26\u5408\u9884\u671f\u3002\u201d \u4f60\u5fc3\u91cc\u53ef\u80fd\u8fd9\u4e48\u60f3\u3002"),Object(b.b)("p",null,"\u4f46\u662f\u4f60\u9519\u4e86\uff0c\u7531\u4e8e useEffect \u7b26\u5408 Capture Value \u7684\u7279\u6027\uff0c\u62ff\u5230\u7684 ",Object(b.b)("inlineCode",{parentName:"p"},"count")," \u503c\u6c38\u8fdc\u662f\u521d\u59cb\u5316\u7684 ",Object(b.b)("inlineCode",{parentName:"p"},"0"),"\u3002",Object(b.b)("strong",{parentName:"p"},"\u76f8\u5f53\u4e8e ",Object(b.b)("inlineCode",{parentName:"strong"},"setInterval")," \u6c38\u8fdc\u5728 ",Object(b.b)("inlineCode",{parentName:"strong"},"count")," \u4e3a ",Object(b.b)("inlineCode",{parentName:"strong"},"0")," \u7684 Scope \u4e2d\u6267\u884c\uff0c\u4f60\u540e\u7eed\u7684 ",Object(b.b)("inlineCode",{parentName:"strong"},"setCount")," \u64cd\u4f5c\u5e76\u4e0d\u4f1a\u4ea7\u751f\u4efb\u4f55\u4f5c\u7528\u3002")),Object(b.b)("h3",{id:"\u8bda\u5b9e\u7684\u4ee3\u4ef7"},"\u8bda\u5b9e\u7684\u4ee3\u4ef7"),Object(b.b)("p",null,"\u7b14\u8005\u7a0d\u7a0d\u4fee\u6539\u4e86\u4e00\u4e0b\u6807\u9898\uff0c\u56e0\u4e3a\u8bda\u5b9e\u662f\u8981\u4ed8\u51fa\u4ee3\u4ef7\u7684\uff1a"),Object(b.b)("pre",null,Object(b.b)("code",{parentName:"pre",className:"language-jsx"},"useEffect(() => {\n  const id = setInterval(() => {\n    setCount(count + 1);\n  }, 1000);\n  return () => clearInterval(id);\n}, [count]);\n")),Object(b.b)("p",null,"\u4f60\u8001\u5b9e\u544a\u8bc9 React \u201c\u563f\uff0c\u7b49 ",Object(b.b)("inlineCode",{parentName:"p"},"count")," \u53d8\u5316\u540e\u518d\u6267\u884c\u5427\u201d\uff0c\u90a3\u4e48\u4f60\u4f1a\u5f97\u5230\u4e00\u4e2a\u597d\u6d88\u606f\u548c\u4e24\u4e2a\u574f\u6d88\u606f\u3002"),Object(b.b)("p",null,"\u597d\u6d88\u606f\u662f\uff0c\u4ee3\u7801\u53ef\u4ee5\u6b63\u5e38\u8fd0\u884c\u4e86\uff0c\u62ff\u5230\u4e86\u6700\u65b0\u7684 ",Object(b.b)("inlineCode",{parentName:"p"},"count"),"\u3002"),Object(b.b)("p",null,"\u574f\u6d88\u606f\u6709\uff1a"),Object(b.b)("ol",null,Object(b.b)("li",{parentName:"ol"},"\u8ba1\u65f6\u5668\u4e0d\u51c6\u4e86\uff0c\u56e0\u4e3a\u6bcf\u6b21 ",Object(b.b)("inlineCode",{parentName:"li"},"count")," \u53d8\u5316\u65f6\u90fd\u4f1a\u9500\u6bc1\u5e76\u91cd\u65b0\u8ba1\u65f6\u3002"),Object(b.b)("li",{parentName:"ol"},"\u9891\u7e41 \u751f\u6210/\u9500\u6bc1 \u5b9a\u65f6\u5668\u5e26\u6765\u4e86\u4e00\u5b9a\u6027\u80fd\u8d1f\u62c5\u3002")),Object(b.b)("h3",{id:"\u600e\u4e48\u65e2\u8bda\u5b9e\u53c8\u9ad8\u6548\u5462\uff1f"},"\u600e\u4e48\u65e2\u8bda\u5b9e\u53c8\u9ad8\u6548\u5462\uff1f"),Object(b.b)("p",null,"\u4e0a\u8ff0\u4f8b\u5b50\u4f7f\u7528\u4e86 ",Object(b.b)("inlineCode",{parentName:"p"},"count"),"\uff0c\u7136\u800c\u8fd9\u6837\u7684\u4ee3\u7801\u5f88\u522b\u626d\uff0c",Object(b.b)("strong",{parentName:"p"},"\u56e0\u4e3a\u4f60\u5728\u4e00\u4e2a\u53ea\u60f3\u6267\u884c\u4e00\u6b21\u7684 Effect \u91cc\u4f9d\u8d56\u4e86\u5916\u90e8\u53d8\u91cf\u3002")),Object(b.b)("p",null,"\u65e2\u7136\u8981\u8bda\u5b9e\uff0c\u90a3\u53ea\u597d ",Object(b.b)("strong",{parentName:"p"},"\u60f3\u529e\u6cd5\u4e0d\u4f9d\u8d56\u5916\u90e8\u53d8\u91cf"),"\uff1a"),Object(b.b)("pre",null,Object(b.b)("code",{parentName:"pre",className:"language-jsx"},"useEffect(() => {\n  const id = setInterval(() => {\n    setCount(c => c + 1);\n  }, 1000);\n  return () => clearInterval(id);\n}, []);\n")),Object(b.b)("p",null,Object(b.b)("inlineCode",{parentName:"p"},"setCount")," \u8fd8\u6709\u4e00\u79cd\u51fd\u6570\u56de\u8c03\u6a21\u5f0f\uff0c\u4f60\u4e0d\u9700\u8981\u5173\u5fc3\u5f53\u524d\u503c\u662f\u4ec0\u4e48\uff0c\u53ea\u8981\u5bf9 \u201c\u65e7\u7684\u503c\u201d \u8fdb\u884c\u4fee\u6539\u5373\u53ef\u3002\u8fd9\u6837\u867d\u7136\u4ee3\u7801\u6c38\u8fdc\u8fd0\u884c\u5728\u7b2c\u4e00\u6b21 Render \u4e2d\uff0c\u4f46\u603b\u662f\u53ef\u4ee5\u8bbf\u95ee\u5230\u6700\u65b0\u7684 ",Object(b.b)("inlineCode",{parentName:"p"},"state"),"\u3002"),Object(b.b)("h3",{id:"\u5c06\u66f4\u65b0\u4e0e\u52a8\u4f5c\u89e3\u8026"},"\u5c06\u66f4\u65b0\u4e0e\u52a8\u4f5c\u89e3\u8026"),Object(b.b)("p",null,"\u4f60\u53ef\u80fd\u53d1\u73b0\u4e86\uff0c\u4e0a\u9762\u6295\u673a\u53d6\u5de7\u7684\u65b9\u5f0f\u5e76\u6ca1\u6709\u5f7b\u5e95\u89e3\u51b3\u6240\u6709\u573a\u666f\u7684\u95ee\u9898\uff0c\u6bd4\u5982\u540c\u65f6\u4f9d\u8d56\u4e86\u4e24\u4e2a ",Object(b.b)("inlineCode",{parentName:"p"},"state")," \u7684\u60c5\u51b5\uff1a"),Object(b.b)("pre",null,Object(b.b)("code",{parentName:"pre",className:"language-jsx"},"useEffect(() => {\n  const id = setInterval(() => {\n    setCount(c => c + step);\n  }, 1000);\n  return () => clearInterval(id);\n}, [step]);\n")),Object(b.b)("p",null,"\u4f60\u4f1a\u53d1\u73b0\u4e0d\u5f97\u4e0d\u4f9d\u8d56 ",Object(b.b)("inlineCode",{parentName:"p"},"step")," \u8fd9\u4e2a\u53d8\u91cf\uff0c\u6211\u4eec\u53c8\u56de\u5230\u4e86 \u201c\u8bda\u5b9e\u7684\u4ee3\u4ef7\u201d \u90a3\u4e00\u7ae0\u3002\u5f53\u7136 Dan \u4e00\u5b9a\u4f1a\u7ed9\u6211\u4eec\u89e3\u6cd5\u7684\u3002"),Object(b.b)("p",null,"\u5229\u7528 ",Object(b.b)("inlineCode",{parentName:"p"},"useEffect")," \u7684\u5144\u5f1f ",Object(b.b)("inlineCode",{parentName:"p"},"useReducer")," \u51fd\u6570\uff0c\u5c06\u66f4\u65b0\u4e0e\u52a8\u4f5c\u89e3\u8026\u5c31\u53ef\u4ee5\u4e86\uff1a"),Object(b.b)("pre",null,Object(b.b)("code",{parentName:"pre",className:"language-jsx"},'const [state, dispatch] = useReducer(reducer, initialState);\nconst { count, step } = state;\n\nuseEffect(() => {\n  const id = setInterval(() => {\n    dispatch({ type: "tick" }); // Instead of setCount(c => c + step);\n  }, 1000);\n  return () => clearInterval(id);\n}, [dispatch]);\n')),Object(b.b)("p",null,"\u8fd9\u5c31\u662f\u4e00\u4e2a\u5c40\u90e8 \u201cRedux\u201d\uff0c\u7531\u4e8e\u66f4\u65b0\u53d8\u6210\u4e86 ",Object(b.b)("inlineCode",{parentName:"p"},'dispatch({ type: "tick" })')," ",Object(b.b)("strong",{parentName:"p"},"\u6240\u4ee5\u4e0d\u7ba1\u66f4\u65b0\u65f6\u9700\u8981\u4f9d\u8d56\u591a\u5c11\u53d8\u91cf\uff0c\u5728\u8c03\u7528\u66f4\u65b0\u7684\u52a8\u4f5c\u91cc\u90fd\u4e0d\u9700\u8981\u4f9d\u8d56\u4efb\u4f55\u53d8\u91cf\u3002")," \u5177\u4f53\u66f4\u65b0\u64cd\u4f5c\u5728 ",Object(b.b)("inlineCode",{parentName:"p"},"reducer")," \u51fd\u6570\u91cc\u5199\u5c31\u53ef\u4ee5\u4e86\u3002",Object(b.b)("a",{parentName:"p",href:"https://codesandbox.io/s/xzr480k0np"},"\u5728\u7ebf Demo"),"\u3002"),Object(b.b)("blockquote",null,Object(b.b)("p",{parentName:"blockquote"},"Dan \u4e5f\u5c06 ",Object(b.b)("inlineCode",{parentName:"p"},"useReducer")," \u6bd4\u4f5c Hooks \u7684\u7684\u91d1\u624b\u6307\u6a21\u5f0f\uff0c\u56e0\u4e3a\u8fd9\u5145\u5206\u7ed5\u8fc7\u4e86 Diff \u673a\u5236\uff0c\u4e0d\u8fc7\u786e\u5b9e\u80fd\u89e3\u51b3\u75db\u70b9\uff01")),Object(b.b)("h3",{id:"\u5c06-function-\u632a\u5230-effect-\u91cc"},"\u5c06 Function \u632a\u5230 Effect \u91cc"),Object(b.b)("p",null,"\u5728 \u201c\u544a\u8bc9 React \u5982\u4f55\u5bf9\u6bd4 Diff\u201d \u4e00\u7ae0\u4ecb\u7ecd\u4e86\u4f9d\u8d56\u7684\u91cd\u8981\u6027\uff0c\u4ee5\u53ca\u5bf9 React \u8981\u8bda\u5b9e\u3002\u90a3\u4e48\u5982\u679c\u51fd\u6570\u5b9a\u4e49\u4e0d\u5728 ",Object(b.b)("inlineCode",{parentName:"p"},"useEffect")," \u51fd\u6570\u4f53\u5185\uff0c\u4e0d\u4ec5\u53ef\u80fd\u4f1a\u9057\u6f0f\u4f9d\u8d56\uff0c\u800c\u4e14 ",Object(b.b)("a",{parentName:"p",href:"https://github.com/facebook/react/issues/14920"},"eslint")," \u63d2\u4ef6\u4e5f\u65e0\u6cd5\u5e2e\u52a9\u4f60\u81ea\u52a8\u6536\u96c6\u4f9d\u8d56\u3002"),Object(b.b)("p",null,"\u4f60\u7684\u76f4\u89c9\u4f1a\u544a\u8bc9\u4f60\u8fd9\u6837\u505a\u4f1a\u5e26\u6765\u66f4\u591a\u9ebb\u70e6\uff0c\u6bd4\u5982\u5982\u4f55\u590d\u7528\u51fd\u6570\uff1f\u662f\u7684\uff0c\u53ea\u8981\u4e0d\u4f9d\u8d56 Function Component \u5185\u53d8\u91cf\u7684\u51fd\u6570\u90fd\u53ef\u4ee5\u5b89\u5168\u7684\u62bd\u51fa\u53bb\uff1a"),Object(b.b)("pre",null,Object(b.b)("code",{parentName:"pre",className:"language-jsx"},'// \u2705 Not affected by the data flow\nfunction getFetchUrl(query) {\n  return "https://hn.algolia.com/api/v1/search?query=" + query;\n}\n')),Object(b.b)("p",null,"\u4f46\u662f\u4f9d\u8d56\u4e86\u53d8\u91cf\u7684\u51fd\u6570\u600e\u4e48\u529e\uff1f"),Object(b.b)("h3",{id:"\u5982\u679c\u975e\u8981\u628a-function-\u5199\u5728-effect-\u5916\u9762\u5462\uff1f"},"\u5982\u679c\u975e\u8981\u628a Function \u5199\u5728 Effect \u5916\u9762\u5462\uff1f"),Object(b.b)("p",null,"\u5982\u679c\u975e\u8981\u8fd9\u4e48\u505a\uff0c\u5c31\u7528 ",Object(b.b)("inlineCode",{parentName:"p"},"useCallback")," \u5427\uff01"),Object(b.b)("pre",null,Object(b.b)("code",{parentName:"pre",className:"language-javascript"},'function Parent() {\n  const [query, setQuery] = useState("react");\n\n  // \u2705 Preserves identity until query changes\n  const fetchData = useCallback(() => {\n    const url = "https://hn.algolia.com/api/v1/search?query=" + query;\n    // ... Fetch data and return it ...\n  }, [query]); // \u2705 Callback deps are OK\n\n  return <Child fetchData={fetchData} />;\n}\n\nfunction Child({ fetchData }) {\n  let [data, setData] = useState(null);\n\n  useEffect(() => {\n    fetchData().then(setData);\n  }, [fetchData]); // \u2705 Effect deps are OK\n\n  // ...\n}\n')),Object(b.b)("p",null,"\u7531\u4e8e\u51fd\u6570\u4e5f\u5177\u6709 Capture Value \u7279\u6027\uff0c\u7ecf\u8fc7 ",Object(b.b)("inlineCode",{parentName:"p"},"useCallback")," \u5305\u88c5\u8fc7\u7684\u51fd\u6570\u53ef\u4ee5\u5f53\u4f5c\u666e\u901a\u53d8\u91cf\u4f5c\u4e3a ",Object(b.b)("inlineCode",{parentName:"p"},"useEffect")," \u7684\u4f9d\u8d56\u3002",Object(b.b)("inlineCode",{parentName:"p"},"useCallback")," \u505a\u7684\u4e8b\u60c5\uff0c\u5c31\u662f\u5728\u5176\u4f9d\u8d56\u53d8\u5316\u65f6\uff0c\u8fd4\u56de\u4e00\u4e2a\u65b0\u7684\u51fd\u6570\u5f15\u7528\uff0c\u89e6\u53d1 ",Object(b.b)("inlineCode",{parentName:"p"},"useEffect")," \u7684\u4f9d\u8d56\u53d8\u5316\uff0c\u5e76\u6fc0\u6d3b\u5176\u91cd\u65b0\u6267\u884c\u3002"),Object(b.b)("h3",{id:"usecallback-\u5e26\u6765\u7684\u597d\u5904"},"useCallback \u5e26\u6765\u7684\u597d\u5904"),Object(b.b)("p",null,"\u5728 Class Component \u7684\u4ee3\u7801\u91cc\uff0c\u5982\u679c\u5e0c\u671b\u53c2\u6570\u53d8\u5316\u5c31\u91cd\u65b0\u53d6\u6570\uff0c\u4f60\u4e0d\u80fd\u76f4\u63a5\u6bd4\u5bf9\u53d6\u6570\u51fd\u6570\u7684 Diff\uff1a"),Object(b.b)("pre",null,Object(b.b)("code",{parentName:"pre",className:"language-jsx"},"componentDidUpdate(prevProps) {\n  // \ud83d\udd34 This condition will never be true\n  if (this.props.fetchData !== prevProps.fetchData) {\n    this.props.fetchData();\n  }\n}\n")),Object(b.b)("p",null,"\u53cd\u4e4b\uff0c\u8981\u6bd4\u5bf9\u7684\u662f\u53d6\u6570\u53c2\u6570\u662f\u5426\u53d8\u5316\uff1a"),Object(b.b)("pre",null,Object(b.b)("code",{parentName:"pre",className:"language-jsx"},"componentDidUpdate(prevProps) {\n  if (this.props.query !== prevProps.query) {\n    this.props.fetchData();\n  }\n}\n")),Object(b.b)("p",null,"\u4f46\u8fd9\u79cd\u4ee3\u7801\u4e0d\u5185\u805a\uff0c\u4e00\u65e6\u53d6\u6570\u53c2\u6570\u53d1\u751f\u53d8\u5316\uff0c\u5c31\u4f1a\u5f15\u53d1\u591a\u5904\u4ee3\u7801\u7684\u7ef4\u62a4\u5371\u673a\u3002"),Object(b.b)("p",null,"\u53cd\u89c2 Function Component \u4e2d\u5229\u7528 ",Object(b.b)("inlineCode",{parentName:"p"},"useCallback")," \u5c01\u88c5\u7684\u53d6\u6570\u51fd\u6570\uff0c\u53ef\u4ee5\u76f4\u63a5\u4f5c\u4e3a\u4f9d\u8d56\u4f20\u5165 ",Object(b.b)("inlineCode",{parentName:"p"},"useEffect"),"\uff0c",Object(b.b)("strong",{parentName:"p"},Object(b.b)("inlineCode",{parentName:"strong"},"useEffect")," \u53ea\u8981\u5173\u5fc3\u53d6\u6570\u51fd\u6570\u662f\u5426\u53d8\u5316\uff0c\u800c\u53d6\u6570\u53c2\u6570\u7684\u53d8\u5316\u5728 ",Object(b.b)("inlineCode",{parentName:"strong"},"useCallback")," \u65f6\u5173\u5fc3\uff0c\u518d\u914d\u5408 ",Object(b.b)("a",{parentName:"strong",href:"https://github.com/facebook/react/issues/14920"},"eslint")," \u63d2\u4ef6\u7684\u626b\u63cf\uff0c\u80fd\u505a\u5230 \u4f9d\u8d56\u4e0d\u4e22\u3001\u903b\u8f91\u5185\u805a\uff0c\u4ece\u800c\u5bb9\u6613\u7ef4\u62a4\u3002")),Object(b.b)("h3",{id:"\u66f4\u66f4\u66f4\u5185\u805a"},"\u66f4\u66f4\u66f4\u5185\u805a"),Object(b.b)("p",null,"\u9664\u4e86\u51fd\u6570\u4f9d\u8d56\u903b\u8f91\u5185\u805a\u4e4b\u5916\uff0c\u6211\u4eec\u518d\u770b\u770b\u53d6\u6570\u7684\u5168\u8fc7\u7a0b\uff1a"),Object(b.b)("p",null,"\u4e00\u4e2a Class Component \u7684\u666e\u901a\u53d6\u6570\u8981\u8003\u8651\u8fd9\u4e9b\u70b9\uff1a"),Object(b.b)("ol",null,Object(b.b)("li",{parentName:"ol"},"\u5728 ",Object(b.b)("inlineCode",{parentName:"li"},"didMount")," \u521d\u59cb\u5316\u53d1\u8bf7\u6c42\u3002"),Object(b.b)("li",{parentName:"ol"},"\u5728 ",Object(b.b)("inlineCode",{parentName:"li"},"didUpdate")," \u5224\u65ad\u53d6\u6570\u53c2\u6570\u662f\u5426\u53d8\u5316\uff0c\u53d8\u5316\u5c31\u8c03\u7528\u53d6\u6570\u51fd\u6570\u91cd\u65b0\u53d6\u6570\u3002"),Object(b.b)("li",{parentName:"ol"},"\u5728 ",Object(b.b)("inlineCode",{parentName:"li"},"unmount")," \u751f\u547d\u5468\u671f\u6dfb\u52a0 flag\uff0c\u5728 ",Object(b.b)("inlineCode",{parentName:"li"},"didMount")," ",Object(b.b)("inlineCode",{parentName:"li"},"didUpdate")," \u4e24\u5904\u505a\u517c\u5bb9\uff0c\u5f53\u7ec4\u4ef6\u9500\u6bc1\u65f6\u53d6\u6d88\u53d6\u6570\u3002")),Object(b.b)("p",null,"\u4f60\u4f1a\u89c9\u5f97\u4ee3\u7801\u8df3\u6765\u8df3\u53bb\u7684\uff0c\u4e0d\u4ec5\u540c\u65f6\u5173\u5fc3\u53d6\u6570\u51fd\u6570\u4e0e\u53d6\u6570\u53c2\u6570\uff0c\u8fd8\u8981\u5728\u4e0d\u540c\u751f\u547d\u5468\u671f\u91cc\u7ef4\u62a4\u591a\u5957\u903b\u8f91\u3002\u90a3\u4e48\u6362\u6210 Function Component \u7684\u601d\u7ef4\u662f\u600e\u6837\u7684\u5462\uff1f"),Object(b.b)("blockquote",null,Object(b.b)("p",{parentName:"blockquote"},"\u7b14\u8005\u5229\u7528 useCallback \u5bf9\u539f Demo \u8fdb\u884c\u4e86\u6539\u9020\u3002")),Object(b.b)("pre",null,Object(b.b)("code",{parentName:"pre",className:"language-jsx"},"function Article({ id }) {\n  const [article, setArticle] = useState(null);\n\n  // \u526f\u4f5c\u7528\uff0c\u53ea\u5173\u5fc3\u4f9d\u8d56\u4e86\u53d6\u6570\u51fd\u6570\n  useEffect(() => {\n    // didCancel \u8d4b\u503c\u4e0e\u53d8\u5316\u7684\u4f4d\u7f6e\u66f4\u5185\u805a\n    let didCancel = false;\n\n    async function fetchData() {\n      const article = await API.fetchArticle(id);\n      if (!didCancel) {\n        setArticle(article);\n      }\n    }\n\n    fetchData();\n\n    return () => {\n      didCancel = true;\n    };\n  }, [API.fetchArticle]);\n\n  // ...\n}\n")),Object(b.b)("p",null,"\u5f53\u4f60\u771f\u7684\u7406\u89e3\u4e86 Function Component \u7406\u5ff5\u540e\uff0c\u5c31\u53ef\u4ee5\u7406\u89e3 Dan \u7684\u8fd9\u53e5\u8bdd\uff1a\u867d\u7136 ",Object(b.b)("inlineCode",{parentName:"p"},"useEffect")," \u524d\u671f\u5b66\u4e60\u6210\u672c\u66f4\u9ad8\uff0c\u4f46\u4e00\u65e6\u4f60\u6b63\u786e\u4f7f\u7528\u4e86\u5b83\uff0c\u5c31\u80fd\u6bd4 Class Component \u66f4\u597d\u7684\u5904\u7406\u8fb9\u7f18\u60c5\u51b5\u3002"),Object(b.b)("p",null,Object(b.b)("inlineCode",{parentName:"p"},"useEffect")," \u53ea\u662f\u5e95\u5c42 API\uff0c\u672a\u6765\u4e1a\u52a1\u63a5\u89e6\u5230\u7684\u662f\u66f4\u591a\u5c01\u88c5\u540e\u7684\u4e0a\u5c42 API\uff0c\u6bd4\u5982 ",Object(b.b)("inlineCode",{parentName:"p"},"useFetch")," \u6216\u8005 ",Object(b.b)("inlineCode",{parentName:"p"},"useTheme"),"\uff0c\u5b83\u4eec\u4f1a\u66f4\u597d\u7528\u3002"),Object(b.b)("h2",{id:"3-\u7cbe\u8bfb"},"3. \u7cbe\u8bfb"),Object(b.b)("p",null,Object(b.b)("a",{parentName:"p",href:"https://overreacted.io/a-complete-guide-to-useeffect/"},"\u539f\u6587"),"\u6709 9000+ \u5355\u8bcd\uff0c\u975e\u5e38\u957f\u3002\u4f46\u540c\u65f6\u4e5f\u914d\u5408\u4e00\u4e9b GIF \u52a8\u56fe\u751f\u52a8\u89e3\u91ca\u4e86 Render \u6267\u884c\u539f\u7406\uff0c\u5982\u679c\u4f60\u60f3\u7528\u597d Function Component \u6216\u8005 Hooks\uff0c\u8fd9\u7bc7\u6587\u7ae0\u51e0\u4e4e\u662f\u5fc5\u8bfb\u7684\uff0c\u56e0\u4e3a\u6ca1\u6709\u4eba\u80fd\u731c\u5230\u4ec0\u4e48\u662f Capture Value\uff0c\u7136\u800c\u4e0d\u80fd\u7406\u89e3\u8fd9\u4e2a\u6982\u5ff5\uff0cFunction Component \u4e5f\u4e0d\u80fd\u7528\u7684\u987a\u624b\u3002"),Object(b.b)("p",null,"\u91cd\u65b0\u634b\u4e00\u4e0b\u8fd9\u7bc7\u6587\u7ae0\u7684\u601d\u8def\uff1a"),Object(b.b)("ol",null,Object(b.b)("li",{parentName:"ol"},"\u4ece\u4ecb\u7ecd Render \u5f15\u51fa Capture Value \u7684\u7279\u6027\u3002"),Object(b.b)("li",{parentName:"ol"},"\u62d3\u5c55\u5230 Function Component \u4e00\u5207\u5747\u53ef Capture\uff0c\u9664\u4e86 Ref\u3002"),Object(b.b)("li",{parentName:"ol"},"\u4ece Capture Value \u89d2\u5ea6\u4ecb\u7ecd useEffect \u7684 API\u3002"),Object(b.b)("li",{parentName:"ol"},"\u4ecb\u7ecd\u4e86 Function Component \u53ea\u5173\u6ce8\u6e32\u67d3\u72b6\u6001\u7684\u4e8b\u5b9e\u3002"),Object(b.b)("li",{parentName:"ol"},"\u5f15\u53d1\u4e86\u5982\u4f55\u63d0\u9ad8 useEffect \u6027\u80fd\u7684\u601d\u8003\u3002"),Object(b.b)("li",{parentName:"ol"},"\u4ecb\u7ecd\u4e86\u4e0d\u8981\u5bf9 Dependencies \u6492\u8c0e\u7684\u57fa\u672c\u539f\u5219\u3002"),Object(b.b)("li",{parentName:"ol"},"\u4ece\u4e0d\u5f97\u4e0d\u6492\u8c0e\u7684\u7279\u4f8b\u4e2d\u4ecb\u7ecd\u4e86\u5982\u4f55\u7528 Function Component \u601d\u7ef4\u89e3\u51b3\u8fd9\u4e9b\u95ee\u9898\u3002"),Object(b.b)("li",{parentName:"ol"},"\u5f53\u4f60\u5b66\u4f1a\u7528 Function Component \u7406\u5ff5\u601d\u8003\u65f6\uff0c\u4f60\u9010\u6e10\u53d1\u73b0\u5b83\u7684\u4e00\u4e9b\u4f18\u52bf\u3002"),Object(b.b)("li",{parentName:"ol"},"\u6700\u540e\u70b9\u51fa\u4e86\u903b\u8f91\u5185\u805a\uff0c\u9ad8\u9636\u5c01\u88c5\u8fd9\u4e24\u5927\u7279\u70b9\uff0c\u8ba9\u4f60\u540c\u65f6\u9886\u609f\u5230 Hooks \u7684\u5f3a\u5927\u4e0e\u4f18\u96c5\u3002")),Object(b.b)("p",null,"\u53ef\u4ee5\u770b\u5230\uff0c\u6bd4\u5199\u6846\u67b6\u66f4\u9ad8\u7684\u5883\u754c\u662f\u53d1\u73b0\u4ee3\u7801\u7684\u7f8e\u611f\uff0c\u6bd4\u5982 Hooks \u672c\u662f\u4e3a\u589e\u5f3a Function Component \u80fd\u529b\u800c\u521b\u9020\uff0c\u4f46\u5728\u629b\u51fa\u95ee\u9898-\u89e3\u51b3\u95ee\u9898\u7684\u8fc7\u7a0b\u4e2d\uff0c\u53ef\u4ee5\u4e0d\u65ad\u770b\u5230\u89c4\u5219\u9650\u5236\uff0c\u6362\u4e00\u4e2a\u89d2\u5ea6\u6253\u7834\u5b83\uff0c\u6700\u540e\u4f53\u4f1a\u5230\u6574\u4f53\u7684\u903b\u8f91\u4e4b\u7f8e\u3002"),Object(b.b)("p",null,"\u4ece\u8fd9\u7bc7\u6587\u7ae0\u4e2d\u4e5f\u53ef\u4ee5\u8bfb\u5230\u5982\u4f55\u589e\u5f3a\u5b66\u4e60\u80fd\u529b\u3002\u4f5c\u8005\u544a\u8bc9\u6211\u4eec\uff0c\u5b66\u4f1a\u5fd8\u8bb0\u53ef\u4ee5\u66f4\u597d\u7684\u7406\u89e3\u3002\u6211\u4eec\u4e0d\u8981\u62ff\u751f\u547d\u5468\u671f\u7684\u56fa\u5316\u601d\u7ef4\u5f80 Hooks \u4e0a\u5957\uff0c\u56e0\u4e3a\u90a3\u4f1a\u963b\u788d\u6211\u4eec\u7406\u89e3 Hooks \u7684\u7406\u5ff5\u3002"),Object(b.b)("p",null,"\u53e6\u8865\u5145\u4e00\u4e9b\u96f6\u788e\u7684\u5185\u5bb9\u3002"),Object(b.b)("h3",{id:"useeffect-\u8fd8\u6709\u4ec0\u4e48\u4f18\u52bf"},"useEffect \u8fd8\u6709\u4ec0\u4e48\u4f18\u52bf"),Object(b.b)("p",null,Object(b.b)("inlineCode",{parentName:"p"},"useEffect")," \u5728\u6e32\u67d3\u7ed3\u675f\u65f6\u6267\u884c\uff0c\u6240\u4ee5\u4e0d\u4f1a\u963b\u585e\u6d4f\u89c8\u5668\u6e32\u67d3\u8fdb\u7a0b\uff0c\u6240\u4ee5\u4f7f\u7528 Function Component \u5199\u7684\u9879\u76ee\u4e00\u822c\u90fd\u62e5\u6709\u66f4\u597d\u7684\u6027\u80fd\u3002"),Object(b.b)("p",null,"\u81ea\u7136\u7b26\u5408 React Fiber \u7684\u7406\u5ff5\uff0c\u56e0\u4e3a Fiber \u4f1a\u6839\u636e\u60c5\u51b5\u6682\u505c\u6216\u63d2\u961f\u6267\u884c\u4e0d\u540c\u7ec4\u4ef6\u7684 Render\uff0c\u5982\u679c\u4ee3\u7801\u9075\u5faa\u4e86 Capture Value \u7684\u7279\u6027\uff0c\u5728 Fiber \u73af\u5883\u4e0b\u4f1a\u4fdd\u8bc1\u503c\u7684\u5b89\u5168\u8bbf\u95ee\uff0c\u540c\u65f6\u5f31\u5316\u751f\u547d\u5468\u671f\u4e5f\u80fd\u89e3\u51b3\u4e2d\u65ad\u6267\u884c\u65f6\u5e26\u6765\u7684\u95ee\u9898\u3002"),Object(b.b)("p",null,Object(b.b)("inlineCode",{parentName:"p"},"useEffect")," \u4e0d\u4f1a\u5728\u670d\u52a1\u7aef\u6e32\u67d3\u65f6\u6267\u884c\u3002"),Object(b.b)("p",null,"\u7531\u4e8e\u5728 DOM \u6267\u884c\u5b8c\u6bd5\u540e\u624d\u6267\u884c\uff0c\u6240\u4ee5\u80fd\u4fdd\u8bc1\u62ff\u5230\u72b6\u6001\u751f\u6548\u540e\u7684 DOM \u5c5e\u6027\u3002"),Object(b.b)("h2",{id:"4-\u603b\u7ed3"},"4. \u603b\u7ed3"),Object(b.b)("p",null,"\u6700\u540e\uff0c\u63d0\u4e24\u4e2a\u6700\u91cd\u8981\u7684\u70b9\uff0c\u6765\u68c0\u9a8c\u4f60\u6709\u6ca1\u6709\u8bfb\u61c2\u8fd9\u7bc7\u6587\u7ae0\uff1a"),Object(b.b)("ol",null,Object(b.b)("li",{parentName:"ol"},"Capture Value \u7279\u6027\u3002"),Object(b.b)("li",{parentName:"ol"},"\u4e00\u81f4\u6027\u3002",Object(b.b)("strong",{parentName:"li"},"\u5c06\u6ce8\u610f\u653e\u5728\u4f9d\u8d56\u4e0a\uff08",Object(b.b)("inlineCode",{parentName:"strong"},"useEffect")," \u7684\u7b2c\u4e8c\u4e2a\u53c2\u6570 ",Object(b.b)("inlineCode",{parentName:"strong"},"[]"),"\uff09\uff0c\u800c\u4e0d\u662f\u5173\u6ce8\u4f55\u65f6\u89e6\u53d1\u3002"))),Object(b.b)("p",null,"\u4f60\u5bf9 \u201c\u4e00\u81f4\u6027\u201d \u6709\u54ea\u4e9b\u66f4\u6df1\u7684\u89e3\u8bfb\u5462\uff1f\u6b22\u8fce\u7559\u8a00\u56de\u590d\u3002"),Object(b.b)("blockquote",null,Object(b.b)("p",{parentName:"blockquote"},"\u8ba8\u8bba\u5730\u5740\u662f\uff1a",Object(b.b)("a",{parentName:"p",href:"https://github.com/dt-fe/weekly/issues/138"},"\u7cbe\u8bfb\u300auseEffect \u5b8c\u5168\u6307\u5357\u300b \xb7 Issue #138 \xb7 dt-fe/weekly"))),Object(b.b)("p",null,Object(b.b)("strong",{parentName:"p"},"\u5982\u679c\u4f60\u60f3\u53c2\u4e0e\u8ba8\u8bba\uff0c\u8bf7 ",Object(b.b)("a",{parentName:"strong",href:"https://github.com/dt-fe/weekly"},"\u70b9\u51fb\u8fd9\u91cc"),"\uff0c\u6bcf\u5468\u90fd\u6709\u65b0\u7684\u4e3b\u9898\uff0c\u5468\u672b\u6216\u5468\u4e00\u53d1\u5e03\u3002\u524d\u7aef\u7cbe\u8bfb - \u5e2e\u4f60\u7b5b\u9009\u9760\u8c31\u7684\u5185\u5bb9\u3002")),Object(b.b)("p",null,Object(b.b)("strong",{parentName:"p"},"special Sponsors")),Object(b.b)("ul",null,Object(b.b)("li",{parentName:"ul"},Object(b.b)("a",{parentName:"li",href:"https://e.coding.net/?utm_source=weekly"},"DevOps \u5168\u6d41\u7a0b\u5e73\u53f0"))),Object(b.b)("blockquote",null,Object(b.b)("p",{parentName:"blockquote"},"\u7248\u6743\u58f0\u660e\uff1a\u81ea\u7531\u8f6c\u8f7d-\u975e\u5546\u7528-\u975e\u884d\u751f-\u4fdd\u6301\u7f72\u540d\uff08",Object(b.b)("a",{parentName:"p",href:"https://creativecommons.org/licenses/by-nc-nd/3.0/deed.zh"},"\u521b\u610f\u5171\u4eab 3.0 \u8bb8\u53ef\u8bc1"),"\uff09")))}i.isMDXComponent=!0},385:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return O}));var a=n(0),c=n.n(a);function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,a,c=function(e,t){if(null==e)return{};var n,a,c={},b=Object.keys(e);for(a=0;a<b.length;a++)n=b[a],t.indexOf(n)>=0||(c[n]=e[n]);return c}(e,t);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(e);for(a=0;a<b.length;a++)n=b[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(c[n]=e[n])}return c}var p=c.a.createContext({}),i=function(e){var t=c.a.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):r(r({},t),e)),n},u=function(e){var t=i(e.components);return c.a.createElement(p.Provider,{value:t},e.children)},s={inlineCode:"code",wrapper:function(e){var t=e.children;return c.a.createElement(c.a.Fragment,{},t)}},d=c.a.forwardRef((function(e,t){var n=e.components,a=e.mdxType,b=e.originalType,l=e.parentName,p=o(e,["components","mdxType","originalType","parentName"]),u=i(n),d=a,O=u["".concat(l,".").concat(d)]||u[d]||s[d]||b;return n?c.a.createElement(O,r(r({ref:t},p),{},{components:n})):c.a.createElement(O,r({ref:t},p))}));function O(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var b=n.length,l=new Array(b);l[0]=d;var r={};for(var o in t)hasOwnProperty.call(t,o)&&(r[o]=t[o]);r.originalType=e,r.mdxType="string"==typeof e?e:a,l[1]=r;for(var p=2;p<b;p++)l[p]=n[p];return c.a.createElement.apply(null,l)}return c.a.createElement.apply(null,n)}d.displayName="MDXCreateElement"}}]);